{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//*функція для HTTP-запиту\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43437392-3f8254e7ae10b5746fbcc03c6';\n\nexport const searchImages = query => {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 5,\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${urlParams}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n","//*функція для відображення картинок\n\nimport SimpleLightbox from 'simplelightbox'; //\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {});\n\n// відображення картинок---------------------------------------------------------------------\nexport const renderImages = images => {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <div class='card'>\n      <a class=\"card-item\" href=\"${largeImageURL}\">\n        <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"card-info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </a>\n      </div>\n\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\n//-------------------------------------------------------------------------------------------------\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\nconst backdrop = document.querySelector('.backdrop');\n\n//-------------------------------------------------------------------------------------------------\n\nsearchForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  gallery.innerHTML = ''; // Очищуєм галерею перед додаванням нових зображ.\n\n  const query = searchInput.value.trim();\n  if (query === '') {\n    return;\n  }\n\n  loader.classList.remove('hidden');\n  backdrop.classList.remove('hidden');\n\n  searchImages(query)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 5000,\n        });\n      } else {\n        renderImages(images.hits);\n      }\n\n      loader.classList.add('hidden');\n      backdrop.classList.add('hidden');\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  searchForm.reset();\n}\n\n// // testing\n// searchImages('pug')\n//   .then(images => {\n//     const markup = renderImages(images.hits);\n//     console.log(markup);\n//   })\n//   .catch(error => console.log(error));\n"],"names":["BASE_URL","API_KEY","searchImages","query","urlParams","url","response","error","gallery","lightbox","SimpleLightbox","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","searchInput","loader","backdrop","handleSubmit","event","iziToast"],"mappings":"6vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAeC,GAAS,CACnC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,SAAU,EACV,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGL,CAAQ,IAAII,CAAS,GAEpC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACD,EAEH,OAAOA,EAAS,KAAM,CACvB,CAAA,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,ECxBMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,EAAE,EAGvCC,EAAeC,GAAU,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,mCAEuBL,CAAa;AAAA,uCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,6BAEpCC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAM1C,EACK,KAAK,EAAE,EAEVZ,EAAQ,mBAAmB,YAAaK,CAAM,EAE9CJ,EAAS,QAAS,CACpB,EChCMY,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,SAAS,cAAc,WAAW,EAInDH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAgB,EACtB,QAAQ,UAAY,GAEpB,MAAMvB,EAAQmB,EAAY,MAAM,KAAM,EAClCnB,IAAU,KAIdoB,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAS,UAAU,OAAO,QAAQ,EAElCtB,EAAaC,CAAK,EACf,KAAKS,GAAU,CACVA,EAAO,KAAK,SAAW,EACzBe,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,WACV,QAAS,GACnB,CAAS,EAEDhB,EAAaC,EAAO,IAAI,EAG1BW,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAS,UAAU,IAAI,QAAQ,CAChC,CAAA,EACA,MAAMjB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACHc,EAAW,MAAO,EACpB"}